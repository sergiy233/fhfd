<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Checkout - StyleStore</title>
    <style>
        body { font-family: 'Segoe UI', sans-serif; background: #f8f9fa; margin: 0; padding: 20px; color: #333; }
        .checkout-container { max-width: 900px; margin: auto; display: grid; grid-template-columns: 1.2fr 0.8fr; gap: 30px; }
        
        @media(max-width: 768px) { .checkout-container { grid-template-columns: 1fr; } }

        .box { background: white; padding: 25px; border-radius: 10px; box-shadow: 0 2px 10px rgba(0,0,0,0.05); }
        h2 { margin-top: 0; color: #2c3e50; }

        /* Cart Items */
        .cart-item { display: flex; gap: 15px; border-bottom: 1px solid #eee; padding-bottom: 15px; margin-bottom: 15px; align-items: center; }
        .cart-item img { width: 70px; height: 70px; object-fit: cover; border-radius: 5px; }
        .item-details { flex-grow: 1; }
        .remove-btn { color: #e74c3c; cursor: pointer; font-size: 0.9em; background: none; border: none; padding: 0; }

        /* Form */
        .form-group { margin-bottom: 15px; }
        label { display: block; margin-bottom: 5px; font-weight: 500; font-size: 0.9em; }
        input, select, textarea { width: 100%; padding: 10px; border: 1px solid #ddd; border-radius: 5px; font-family: inherit; box-sizing: border-box; }
        input:focus, select:focus { border-color: #2c3e50; outline: none; }
        
        .total-row { display: flex; justify-content: space-between; font-size: 1.2em; font-weight: bold; margin-top: 20px; border-top: 2px solid #eee; padding-top: 15px; }
        
        .submit-btn { background: #27ae60; color: white; width: 100%; padding: 15px; border: none; border-radius: 5px; font-size: 1.1em; font-weight: bold; cursor: pointer; margin-top: 20px; transition: 0.3s; }
        .submit-btn:hover { background: #219150; }
        
        .back-link { display: inline-block; margin-bottom: 20px; color: #2c3e50; text-decoration: none; font-weight: 600; }
    </style>
</head>
<body>

<a href="index.html" class="back-link">‚Üê Continue Shopping</a>

<div class="checkout-container">
    <div class="box">
        <h2>Checkout</h2>
        <form id="orderForm" onsubmit="submitOrder(event)">
            <div class="form-group">
                <label>Your Name *</label>
                <input type="text" required placeholder="John Doe">
            </div>
            <div class="form-group">
                <label>Phone Number *</label>
                <input type="tel" required placeholder="+1 234...">
            </div>
            <div class="form-group">
                <label>Email (Optional)</label>
                <input type="email" placeholder="example@mail.com">
            </div>
            <div class="form-group">
                <label>City / Address</label>
                <input type="text" required placeholder="New York, 5th Avenue...">
            </div>
            
            <div class="form-group">
                <label>Delivery Method</label>
                <select id="delivery">
                    <option value="post">Post Office Delivery</option>
                    <option value="courier">Courier to Door</option>
                    <option value="pickup">Self Pickup</option>
                </select>
            </div>

            <div class="form-group">
                <label>Payment Method</label>
                <select id="payment">
                    <option value="cod">Cash on Delivery</option>
                    <option value="card">Credit Card Online</option>
                </select>
            </div>

            <div class="form-group">
                <label>Order Comments</label>
                <textarea rows="3" placeholder="Any special requests?"></textarea>
            </div>
        </form>
    </div>

    <div class="box">
        <h2>Your Cart</h2>
        <div id="cartList">
            </div>
        
        <div class="total-row">
            <span>Total:</span>
            <span id="totalSum">0 UAH</span>
        </div>

        <button class="submit-btn" onclick="document.getElementById('orderForm').requestSubmit()">CONFIRM ORDER</button>
    </div>
</div>

<script>
    function loadCart() {
        // We use 'styleCart' to match index.html
        const cart = JSON.parse(localStorage.getItem('styleCart')) || [];
        const container = document.getElementById('cartList');
        let total = 0;

        if(cart.length === 0) {
            container.innerHTML = "<p>Your cart is empty</p>";
            document.getElementById('totalSum').innerText = "0 UAH";
            return;
        }

        container.innerHTML = cart.map((item, index) => {
            total += item.price;
            return `
                <div class="cart-item">
                    <img src="${item.img}" alt="${item.name}">
                    <div class="item-details">
                        <div style="font-weight:600">${item.name}</div>
                        <div style="color:#777">${item.price} UAH</div>
                    </div>
                    <button class="remove-btn" onclick="removeItem(${index})">Remove</button>
                </div>
            `;
        }).join('');

        document.getElementById('totalSum').innerText = total + " UAH";
    }

    function removeItem(index) {
        let cart = JSON.parse(localStorage.getItem('styleCart')) || [];
        cart.splice(index, 1);
        localStorage.setItem('styleCart', JSON.stringify(cart));
        loadCart();
    }

    function submitOrder(e) {
        e.preventDefault();
        alert("Thank you! Your order has been successfully placed. We will contact you shortly.");
        localStorage.removeItem('styleCart');
        window.location.href = "index.html";
    }

    window.onload = loadCart;
</script>

</body>
</html>
